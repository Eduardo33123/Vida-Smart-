import{j as e,S as p,x as m}from"./app-B5iQsXmW.js";import{L as h}from"./Layout-Da3D4rhq.js";const u=({sales:s,netProfit:d})=>{const a=t=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(t),l=t=>new Date(t).toLocaleDateString("es-MX"),o=t=>{var r;const c=t.total_amount,i=(r=t.product)!=null&&r.purchase_price?t.quantity_sold*t.product.purchase_price:0,x=t.commission||0;return c-i-x};return e.jsxs(h,{children:[e.jsx(p,{title:"Detalles de Ganancia Neta - Analytics"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"📈 Detalles de Ganancia Neta"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Todas las ventas con sus ganancias individuales"})]}),e.jsx(m,{href:"/analytics",className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"← Volver a Analytics"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700 mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Ganancia Neta Total"}),e.jsx("p",{className:`text-3xl font-bold ${d>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:a(d)})]}),e.jsx("div",{className:`p-4 rounded-full ${d>=0?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"}`,children:e.jsx("span",{className:"text-3xl",children:d>=0?"📈":"📉"})})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Todas las Ventas con Ganancias (",s.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Color"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cantidad"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ingresos"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Costos"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Comisión"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ganancia"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s&&s.length>0?s.map(t=>{var r,n;const c=(r=t.product)!=null&&r.purchase_price?t.quantity_sold*t.product.purchase_price:0,i=t.commission||0,x=o(t);return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:l(t.sale_date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:((n=t.product)==null?void 0:n.name)||"Producto no encontrado"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.client_name||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.color||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.quantity_sold||0}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400",children:a(t.total_amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 dark:text-red-400",children:a(c)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-yellow-600 dark:text-yellow-400",children:a(i)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold",children:e.jsx("span",{className:`${x>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:a(x)})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"No hay ventas registradas"})})})]})})]})]})]})};export{u as default};
